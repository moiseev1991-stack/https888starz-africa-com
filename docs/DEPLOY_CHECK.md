# Почему после деплоя на сайте ничего не изменилось

## 1. Проверь, что деплой вообще выполнился

- Зайди в репозиторий на GitHub → вкладка **Actions**.
- Открой последний запуск workflow **«Deploy to Beget»** (после твоего пуша).
- Если в логе есть шаг **«Skip deploy (no FTP secrets)»** — деплой не делался: на сервер ничего не заливалось.  
  **Что сделать:** в настройках репо **Settings → Secrets and variables → Actions** добавить:
  - `FTP_SERVER` (хост, например `smirno34.beget.tech`)
  - `FTP_USERNAME`
  - `FTP_PASSWORD`
  - при необходимости `SERVER_DIR` (папка на сервере, например `888starzeg-egypt.com/public_html` или пусто для корня FTP).
- Убедись, что workflow завершился зелёной галочкой (успех), а не жёлтым/красным.

## 2. Какой файл отдаёт сервер (статика или WordPress)

На сервере в одной папке могут лежать и статический **index.html**, и **index.php** (WordPress). Apache по умолчанию часто отдаёт **index.php** первым — тогда открывается WordPress, а не наш статический сайт.

**Проверка:**

- Открой сайт в браузере.
- **Правый клик → «Просмотр кода страницы»** (или Ctrl+U).
- В исходном коде страницы нажми Ctrl+F и поищи строку **`contentSliders`** или **`runWhenReady`**.

- **Если нашлось** — отдаётся наш статический `index.html`. Тогда проблема в кеше или в том, что деплой не обновил файл (см. п. 3 и 4).
- **Если не нашлось** — отдаётся другой документ (чаще всего WordPress `index.php`). Нужно, чтобы в корне сайта для запроса «/» отдавался именно **index.html**.

**Что сделано в репозитории:** в `public/.htaccess` добавлено:

```apache
DirectoryIndex index.html index.php
```

После следующего деплоя этот `.htaccess` окажется на сервере, и при запросе к корню сначала будет отдаваться `index.html`. Убедись, что на FTP в корне лежит именно тот `.htaccess`, что из папки `public/` (деплой заливает содержимое `public/`).

## 3. Кеш браузера и CDN

- Сделай **жёсткое обновление**: Ctrl+Shift+R (или Cmd+Shift+R на Mac).
- Либо открой сайт в режиме **инкогнито**.
- Если используется **Cloudflare** (или другой CDN) — зайди в панель и сделай **Purge Cache** для домена.

## 4. Деплой заливает только изменённые файлы

**FTP-Deploy-Action** по умолчанию заливает только файлы, которые изменились. Если в последнем коммите не было изменений в папке **public/** (например, меняли только документацию или скрипты снаружи `public/`), на сервер мог ничего не залиться.

**Что проверить:**

- В коммите, который ты пушил, действительно есть изменения в `public/` (например в `public/index.html`)?
- В **Actions** в логе шага «FTP Deploy» видно, что файлы заливались (есть строки про upload).

## 5. Краткий чеклист

| Шаг | Действие |
|-----|----------|
| 1 | GitHub Actions → последний «Deploy to Beget» выполнен успешно (зелёная галочка). |
| 2 | Секреты FTP заданы (FTP_SERVER, FTP_USERNAME, FTP_PASSWORD, при необходимости SERVER_DIR). |
| 3 | В коде страницы на сайте есть строка `contentSliders` или `runWhenReady` (значит отдаётся наш index.html). |
| 4 | В корне на сервере есть `.htaccess` с `DirectoryIndex index.html index.php` (из нашего `public/.htaccess`). |
| 5 | Жёсткое обновление (Ctrl+Shift+R) или инкогнито; при наличии CDN — сброс кеша. |

После этого следующий пуш в **main** с изменёнными файлами в **public/** должен обновить сайт; если нет — пришли скрин лога последнего успешного «Deploy to Beget» и (если возможно) фрагмент исходного кода страницы с сайта (поиск по `runWhenReady` / `contentSliders`).
