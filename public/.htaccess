# Ensure existing files (JS, CSS, etc.) are served as static — avoid 500 when parent rewrites to PHP
<IfModule mod_rewrite.c>
	RewriteEngine On
	RewriteBase /
	# Не отдавать статику в PHP: запросы к /assets/ — только как файлы
	RewriteRule ^assets/ - [L]
	RewriteCond %{REQUEST_FILENAME} -f
	RewriteRule ^ - [L]
	RewriteCond %{REQUEST_FILENAME} -d
	RewriteRule ^ - [L]
</IfModule>

# Optional: cache static assets
<IfModule mod_expires.c>
	ExpiresByType text/css "access plus 1 year"
	ExpiresByType application/javascript "access plus 1 year"
	ExpiresByType font/woff2 "access plus 1 year"
	ExpiresByType image/webp "access plus 1 year"
</IfModule>
<IfModule mod_headers.c>
	<FilesMatch "\.(css|js|woff2?|webp)$">
		Header set Cache-Control "public, max-age=31536000, immutable"
	</FilesMatch>
</IfModule>
